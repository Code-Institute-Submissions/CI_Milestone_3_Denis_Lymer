{% extends 'base.html' %}
{% block content %}
<div class="container">
	<div class="col s12">
		<h1 class="page-header">Edit a Beer!</h1>
	</div>
<div class="row btn-row">
	<div class="col s12 btn-col btn-add"><a href="{{url_for('get_beer')}}"
			class="waves-effect waves-light green accent-4 btn add-btn z-depth-2"><i class="material-icons button-icon">home</i>Back
			to list</a></div>
</div>
<div class="row">
	<form action="{{url_for('update_beer', beer_id=beer._id)}}" method="POST" class="col s12 z-depth-2 coll-head">
		<div class="row">
			<div class="input-field col s12">
				<i class="material-icons prefix">local_drink</i>
				<input id="beer_name" name="beer_name" type="text" class="validate" value="{{beer.beer_name}}">
				<label for="icon_prefix">Beer Name</label>
			</div>
		</div>
		<div class="row">
			<div class="input-field col s12">
				<i class="material-icons prefix">add_business</i>
				<input id="brewery_name" name="brewery_name" type="text" class="validate" value="{{beer.brewery_name}}">
				<label for="icon_prefix">Brewery Name</label>
			</div>
		</div>
		<div class="row">
			<div class="input-field col s12">
				<i class="material-icons prefix">place</i>
				<input id="beer_location" name="beer_location" type="text" class="validate" value="{{beer.beer_location}}">
				<label for="icon_prefix">Drank at</label>
			</div>
		</div>
		<div class="row">
			<div class="input-field col s12">
				<i class="material-icons prefix">date_range</i>
				<input id="drank_date" name="drank_date" type="text" class="datepicker validate" value="{{beer.drank_date}}">
				<label for="icon_prefix">On date</label>
			</div>
		</div>
		<div class="row">
			<div class="input-field col s12">
				<i class="material-icons prefix">comment</i>
				<input id="beer_comm" name="beer_comm"  type="text" class="validate materialize-textarea" maxlength="300" value="{{beer.beer_comm}}">
				<label for="icon_prefix">Comments</label>
			</div>
		</div>
		<div class="row">
			<div class="input-field col s12">
				<i class="material-icons prefix">grade</i>
				<input id="beer_rating" name="beer_rating" type="number" class="validate" min="0" max="10" value="{{beer.beer_rating}}">
				<label for="icon_prefix">Rating */10</label>
			</div>
		</div>
		<div class="row">
			<div class="input-field col s12">
				<i class="material-icons prefix">6_ft_apart</i>
				<label for="icon_prefix" >Social Distancing Observed?</label>
				<div class="switch socdist_switch">
					<label>
                    {% if beer.soc_dist %}
                        <input id="soc_dist" name="soc_dist" type="checkbox" checked="checked">
                        No<span class="lever"></span>Yes
                    {% else %}
                        <input id="soc_dist" name="soc_dist" type="checkbox">
                        No<span class="lever"></span>Yes
                    {% endif %}
                </label>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="container col sm 12" id="beer_submit">
				<button class="btn waves-effect waves-light green accent-4" type="submit" name="action">Confirm Edit
                <i class="material-icons right">send</i>
            </button>
			</div>
		</div>
	</form>
</div>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"
	integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script type="text/javascript">
	$(document).ready(function(){
        drank_date = Date.parse('{{beer.drank_date}}');
        $('#drank_date').pickadate('picker').set('select', drank_date, {format: 'dd/mm/yyyy'}).trigger('change')
    });
</script>
{% endblock %}