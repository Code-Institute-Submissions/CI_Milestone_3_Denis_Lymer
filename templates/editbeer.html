{% extends 'base.html' %}
{% block content %}
<h2>Edit a Beer!</h2>
<div class="row">
    <form action="{{url_for('update_beer', beer_id=beer._id)}}" method="POST" class="col s12">
      <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">local_drink</i>
          <input id="beer_name" name="beer_name" type="text" class="validate" value="{{beer.beer_name}}">
          <label for="icon_prefix">Beer Name</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">add_business</i>
          <input id="brewery_name" name="brewery_name" type="text" class="validate" value="{{beer.brewery_name}}">
          <label for="icon_prefix">Brewery Name</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">place</i>
          <input id="beer_location" name="beer_location" type="text" class="validate" value="{{beer.beer_location}}">
          <label for="icon_prefix">Drank at</label>
        </div>
       </div>
       <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">date_range</i>
          <input id="drank_date" name="drank_date" type="text" class="datepicker">
          <label for="icon_prefix">On date</label>
        </div>
       </div>
       <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">comment</i>
          <textarea id="beer_comm" name="beer_comm"  class="materialize-textarea" maxlength="300" value="{{beer.beer_comm}}"></textarea>
          <label for="icon_prefix">Comments</label>
        </div>
       </div>
       <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">grade</i>
          <input id="beer_rating" name="beer_rating" type="number" class="validate" min="0" max="10" value="{{beer.beer_rating}}">
          <label for="icon_prefix">Rating */10</label>
        </div>
       </div>
       <div class="row">
        <div class="input-field col s12">
          <i class="material-icons prefix">6_ft_apart</i>
          <label id="soc_dist" name="soc_dist" class="validate" value="{{beer.soc_dist}}"></label>
          <label for="icon_prefix">Social Distancing Observed?</label>
            <div class="switch">
                <label>
                {% if beer.soc_dist %}
                <input id="soc_distance" name="soc_dist" type="checkbox checked">
                {% else %}
                <input id="soc_distance" name="soc_dist" type="checkbox">
                {% endif %}
                    No
                    <input type="checkbox">
                    <span class="lever"></span>
                    Yes
                </label>
            </div>
        </div>
       </div>
       <div class="row">
        <div class="container col sm 12" id="beer_submit">
            <button class="btn waves-effect waves-light" type="submit" name="action">Edit Me!
                <i class="material-icons right">send</i>
            </button>
       </div>
       </div>
    </form>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script type="text/javascript">
    $(document).ready(function(){
        drank_date = Date.parse('{{beer.drank_date}}');
        $('#drank_date').pickadate('picker').set('select', drank_date, {format: 'dd/mm/yyyy'}).trigger('change')
    });
</script>
{% endblock %}